timely.require(["scripts/calendar","scripts/common_scripts/frontend/common_frontend","scripts/calendar/event","domReady","jquery_timely","ai1ec_calendar"],function(e,t,n,r,i,s){var o=s.calendar_url;i("div.timely-calendar:first").on("click",".ai1ec-load-event[data-type=jsonp]",n.load_event_through_jsonp),i("div.timely-calendar:first").each(function(r,u){var a=n.create_ai1ec_to_send(u),f={ai1ec_doing_ajax:!0,request_type:"jsonp",ai1ec:a};i.ajax({url:o,dataType:"jsonp",data:f,success:function(n){var r=i("<div/>",{id:"ai1ec-calendar-view-container"}),o=i("<div/>",{"class":"timely"}),a=i("<div/>",{id:"ai1ec-calendar-view-loading","class":"ai1ec-loading"}),f=i("<div/>",{id:"ai1ec-calendar-view"});f.append(n.html),r.append(a).append(f),o.append(r).append(n.subscribe_buttons),i(u).append(o),t.are_event_listeners_attached()||t.start(),i.each(s.extension_urls,function(e,t){var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",t.url),n.setAttribute("id",t.id),n.setAttribute("data-added","true"),document.getElementsByTagName("head")[0].appendChild(n)}),e.start(),i(document).trigger("page_ready.ai1ec")},error:function(e,t,n){window.alert("An error occurred while retrieving the calendar data.")}})})}),timely.define("main_widget",function(){});